<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Crée un nouvel actif (asset) en traitant une requête multipart et en interagissant avec la base de données."><title>create_asset in lib::assets - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="lib" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../lib/index.html">lib</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In lib::<wbr>assets</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">lib</a>::<wbr><a href="index.html">assets</a>::<wbr><a class="fn" href="#">create_asset</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/lib/assets/mod.rs.html#128-356">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub async fn create_asset(
    __arg0: <a class="struct" href="../../axum/extension/struct.Extension.html" title="struct axum::extension::Extension">Extension</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.82.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="type" href="../../sqlx_postgres/type.PgPool.html" title="type sqlx_postgres::PgPool">PgPool</a>&gt;&gt;,
    multipart: <a class="struct" href="../../axum_extra/extract/multipart/struct.Multipart.html" title="struct axum_extra::extract::multipart::Multipart">Multipart</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.82.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../helpers/collecty_response/struct.CollectyResponse.html" title="struct lib::helpers::collecty_response::CollectyResponse">CollectyResponse</a>, <a class="struct" href="../helpers/collecty_response/struct.CollectyResponse.html" title="struct lib::helpers::collecty_response::CollectyResponse">CollectyResponse</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Crée un nouvel actif (asset) en traitant une requête multipart et en interagissant avec la base de données.</p>
<p>Cette fonction permet de créer un nouvel actif en recevant une requête multipart contenant des informations
telles que l’identifiant de l’utilisateur, l’adresse XRP, le nom et la description de l’actif, un secret de client
et une image. Elle traite ensuite ces informations, crée un NFT via la blockchain XRPL, et stocke les données dans
la base de données.</p>
<h2 id="arguments"><a class="doc-anchor" href="#arguments">§</a>Arguments</h2>
<ul>
<li><code>pool</code> - Le pool de connexions à la base de données pour interagir avec la base de données PostgreSQL.</li>
<li><code>multipart</code> - Les données envoyées par le client sous forme de formulaire multipart contenant des informations
sur l’actif et l’image.</li>
</ul>
<h2 id="retour"><a class="doc-anchor" href="#retour">§</a>Retour</h2>
<ul>
<li>Un <code>Result</code> qui contient une réponse <code>CollectyResponse</code> indiquant si l’opération a été réussie ou non.
<ul>
<li>En cas de succès, une réponse avec le chemin de l’image est renvoyée avec un code HTTP <code>200 OK</code>.</li>
<li>En cas d’échec, une réponse avec un message d’erreur et le code HTTP approprié est retournée.</li>
</ul>
</li>
</ul>
</div></details></section></div></main></body></html>